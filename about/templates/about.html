{%extends 'navbar_only.html'%}
{% block title %}2-son KHM Haqida{% endblock %}
{%block content%}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.2.0/css/glide.core.min.css">
<style>
    .btn-toggle[aria-expanded="true"]::before {
        transform: rotate(90deg);
    }

    .btn-toggle::before {
        margin-right: 15px;
        width: 1.25em;
        line-height: 0;
        content: url(images/chevron-right.svg);
        transition: transform .35s ease;
        transform-origin: 0.5em 50%;
    }
    .btn:hover, .btn:active{
        background-color: #F5F4FF;
        border: 1px solid #F5F4FF;
    }

    .btn-toggle-nav{
        background-color: #F5F4FF;
    }

    [type=button]:not(:disabled), [type=reset]:not(:disabled), [type=submit]:not(:disabled), button:not(:disabled){
        background-color: #F5F4FF;
        color: #333;
    }
    #navbar-bg{
        width: 100%;
        background-color: #F5F4FF;
    }
    #navbar-bg > .nav-link{
        color: #333;
    }
    .nav-item > .nav-link{
        color: #333;
    }
    #lang_btn, #btn{
        border: 2px solid #333!important;
        color: #333;
        font-weight: 700;
        background-color: #fff;
    }
    .carousel-inner{
        max-width: 100%;
    }
    .carousel{
        padding: 0;
        min-height: 55vh;
    }
    .most-inner {
        margin-top: 2vh;
        left: 0;
    }

    .tabcontent{
        background-color: #F5F4FF;
    }
    #scrolling {
        background-color: white;
        position: relative;
        overflow: hidden;
    }
    #scrolling:before, #scrolling:after {
        content: '';
        display: block;
        background-color: #fff;
        width: 100%;
        height: 75px;
        position: absolute;
        z-index: 99;
    }
    #scrolling:before {
        border-radius: 0% 0% 50% 50% / 0% 0% 100% 100%;
        top: 0;
    }
    #scrolling:after {
        border-radius: 50% 50% 0% 0%  / 100% 100% 0% 0% ;
        bottom: 15px;
    }

    .image-gallery {
        display: flex;
        flex-direction: column;
    }

    .image-gallery .column {
        display: flex;
        flex-direction: column;
    }

    .image-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    @media only screen and (max-width: 600px) {
        .image-gallery {
            flex-direction: row;
        }
        h1.about_h1{
        font-size: 22px;
        }
        p.about_p{
            width: 100%;
            margin: 0px;
        }
        .glide{
            display: none;
        }
        div.position-relative{
            margin: 0 50px;
        }
        div.back > div.col-md-7{
            display: none;
        }
    }

    .nav-item a.border-white{
        border-color: #333!important;
        color: #333!important;
    }
    .dropdown button.border-white{
        border-color: #333!important;
    }
    .sticky-top{
        top: 75px;
    }

    span.position-absolute span.fw-bold, span#ob{
        text-shadow: -2px 2px 9px black;
    }
    #header{
        padding-top: 230px;
        text-align: center;
        width: 65%;
        margin: auto;
    }


</style>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QSSVRGJ4BK"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-QSSVRGJ4BK');
</script>


<div id="header" class="container>
        <p class=" text-success text-center"><span><a class="text-success text-decoration-none fw-bold"
                                                      href="{%url 'index' %}">Bosh sahifa</a></span> | <a
        class="text-success text-decoration-none" href="{%url 'about'%}">KHM haqida</a></p>
{%for data in datas%}
<h1 class="about_h1 fw-bold text-center">{{data.long_desc}}</h1>

</div>

<div class="glide">
    <div id="scrolling">
        <div class="glide__track" data-glide-el="track">
            <ul class="glide__slides">
                <li class="glide__slide"><img loading="lazy" src="{{data.about_pic1.url}}" alt="image">
                </li>
                <li class="glide__slide"><img loading="lazy" src="{{data.about_pic2.url}}" alt="image">
                </li>
                <li class="glide__slide"><img loading="lazy" src="{{data.about_pic3.url}}" alt="image">
                </li>
                <li class="glide__slide"><img loading="lazy" src="{{data.about_pic4.url}}" alt="image">
                </li>
                <li class="glide__slide"><img loading="lazy" src="{{data.about_pic5.url}}" alt="image">
                </li>
            </ul>
        </div>
    </div>
</div>
{%endfor%}
<section>
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <nav id="navbar-bg" class="navbar sticky-top rounded p-4 w-75" style="font-size: 10px;">
                    <ul class="nav navbar-nav w-100">
                        <li>
                            KHM
                        </li>
                        <hr>
                        <li class="nav-item">
                            <a class="nav-link fw-bold" href="#about_us"> Koâ€˜rib chiqish </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-bold" href="#courses"> O'quv dasturi </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-bold" href="#mentors"> O'qituvchilar </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fw-bold" href="#courses_room"> Bizning jamoa </a>
                        </li>
                        <br>
                        <div class="modal fade" id="exampleModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalToggleLabel">Registratsiya</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="{% url 'submit_form' %}" method="POST">
                    <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

                    <div id="errorContainer" class="text-center p-3"></div>
                    <div class="mb-3">
                        <label for="firstName" class="form-label">Ism</label>
                        <input type="text" name="first_name" id="firstName" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label for="lastName" class="form-label">Familiya</label>
                        <input type="text" name="last_name" id="lastName" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label for="phone_number" class="form-label">Telefon raqam</label>
                        <input type="tel" name="phone_number" pattern="[0-9]{12}" placeholder="998 99 111 22 33" id="phone_number" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label for="emailInput" class="form-label">Email</label>
                        <input type="email" name="email" class="form-control" id="emailInput" placeholder="example@gmail.com" required>
                        <small id="emailError" class="form-text text-danger invalid-feedback"></small>
                    </div>
                    <button type="submit" class="btn btn-primary">Yuborish</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Confirmation Modal -->
    <div class="modal fade" id="confirmationModal" aria-hidden="true" aria-labelledby="confirmationModalLabel" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="confirmationModalLabel">Registration Status</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="confirmationMessage" class="text-center"></div>
                </div>
            </div>
        </div>
    </div>

    <button type="button" class="btn btn-danger bg-dark p-2 text-white" data-bs-target="#exampleModalToggle" data-bs-toggle="modal">Hoziroq ro'yxatdan o'ting</button>


    <script>
$(document).ready(function() {
    $("#exampleModalToggle form").submit(function(e) {
        e.preventDefault();
        var form = $(this);
        $.ajax({
            url: form.attr("action"),
            type: "POST",
            data: form.serialize(),
            success: function(response) {
                // Hide the registration modal
                $("#exampleModalToggle").modal("hide");

                // Display the message in the confirmation modal
                $("#confirmationMessage").text(response.message);
                $("#confirmationModal").modal("show");

                // Hide the confirmation modal and redirect after a short delay
                $("#confirmationModal").on('hidden.bs.modal', function () {
                    window.location.replace("{% url 'about' %}");  // Adjust URL as needed
                });
            },
            error: function(xhr, status, error) {
                var errorMessage = xhr.responseText;
                $("#errorContainer").html(`<div class="p-3 mb-2 bg-danger text-white" role="alert">${errorMessage}</div>`);
            }
        });
    });
});



    </script>

                    </ul>
                </nav>
            </div>

            <div class="col-md-8">
                {%for data in datas%}
                <div id="about_us">
                    <div>
                        <h1 class="fw-bold">{{data.title_for_about_khm}}</h1> <br>
                        <p>{{data.about_khm}}</p>

                    </div>
                    <img loading="lazy" src="{{data.khm_picture.url}}" class="w-100 rounded mt-4 shadow"
                         alt="image">
                </div>
                {%endfor%}
                <div id="mentors">
                    <h1 class="fw-bold mt-5">Bizning o'qituvchilar</h1>
                    <p class="mt-3">Kasb-hunar maktabimizda  kuchli bilimga ega, uzoq yillik tajribaga ega bo'lgan va barcha oliy ma'lumotli  o'qituvchilar
                        faoliyat olib borishadi.Ular har bir o'quvchi uchun alohida e'tibor bilan qarashadi.
                    </p>

                    <div class="row">
                        {%for teacher in teachers%}
                        <div class="col-md-4 mt-4">
                            <div class="position-relative">
                                <img loading="lazy" src="{{teacher.teacher_picture.url}}"
                                     class="rounded w-100" alt="image">
                                <span class="position-absolute bottom-0 start-0 p-3 text-white"><span class="fw-bold">{{teacher.teacher_fullname}}</span> <br><span
                                        id="ob">{{teacher.teacher_major}}</span> <hr class="w-25 m-0"
                                                                                           style="border: 2px solid #62BC9E;"></span>
                            </div>
                        </div>
                        {%endfor%}
                    </div>
                </div>

                <hr>
                {%for goal in goals%}
                <div id="courses_room">
                    <h1 class="fw-bold mt-5">{{goal.title_goal}}</h1>
                    <p>{{goal.goal_desc}} </p>
                    <br>
                    <img loading="lazy" src="{{goal.group_picture.url}}"
                         class="w-100 rounded shadow mb-5" alt="">
                </div>
                {%endfor%}
            </div>
        </div>
    </div>
</section>


<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
        integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
        integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.2/dist/index.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.2.0/glide.min.js"></script>
<script>
    var glide = new Glide('.glide', {
        type: 'carousel',
        perView: 5
    })

    glide.mount()
</script>
{%endblock%}
